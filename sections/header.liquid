{% comment %}
  This is the header section for the Shopify AI Theme Dev project
{% endcomment %}

<div class="header-wrapper">
  <header class="site-header page-width" role="banner">
    <div class="grid grid--no-gutters grid--table">
      <div class="grid__item medium-up--one-third">
        <div class="site-header__logo">
          {% if section.settings.logo %}
            <a href="/" class="site-header__logo-image">
              <img src="{{ section.settings.logo | img_url: '300x300' }}" alt="{{ shop.name }}" width="150">
            </a>
          {% else %}
            <a href="/" class="site-header__logo-link">{{ shop.name }}</a>
          {% endif %}
        </div>
      </div>

      <div class="grid__item medium-up--one-third text-center">
        <div class="site-header__search">
          <form action="/search" method="get" class="search-form">
            <input type="search" name="q" placeholder="Search" class="search-input">
            <button type="submit" class="search-submit">
              <span class="search-text">Search</span>
            </button>
          </form>
        </div>
      </div>

      <div class="grid__item medium-up--one-third text-right">
        <div class="site-header__icons">
          <div class="site-header__account">
            <a href="/account">
              Account
            </a>
          </div>

          <div class="site-header__cart">
            <a href="/cart">
              Cart ({{ cart.item_count }})
            </a>
          </div>
        </div>
      </div>
    </div>

    <nav class="site-header__nav" role="navigation">
      <ul class="site-nav">
        {% for link in linklists.main-menu.links %}
          <li class="site-nav__item">
            <a href="{{ link.url }}" class="site-nav__link">
              {{ link.title }}
            </a>
          </li>
        {% endfor %}
      </ul>
    </nav>
  </header>
</div>

{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "range",
      "id": "logo_max_width",
      "min": 50,
      "max": 300,
      "step": 10,
      "unit": "px",
      "label": "Logo max width",
      "default": 150
    },
    {
      "type": "checkbox",
      "id": "show_search",
      "label": "Show search",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "enable_sticky_header",
      "label": "Enable sticky header",
      "default": true
    }
  ]
}
{% endschema %}

<style>
.header-wrapper {
  border-bottom: 1px solid #e8e8e8;
  margin-bottom: 30px;
}

.site-header {
  padding: 20px 0;
}

.site-header__logo-image img {
  max-width: {{ section.settings.logo_max_width }}px;
}

.site-header__logo-link {
  color: inherit;
  text-decoration: none;
  font-size: 1.5rem;
  font-weight: bold;
}

.search-form {
  display: flex;
  max-width: 300px;
  margin: 0 auto;
}

.search-input {
  flex-grow: 1;
  padding: 8px;
  border: 1px solid #e8e8e8;
  border-right: none;
  border-radius: var(--inputs-radius) 0 0 var(--inputs-radius);
}

.search-submit {
  padding: 0 15px;
  background: var(--color-primary);
  color: white;
  border: none;
  border-radius: 0 var(--inputs-radius) var(--inputs-radius) 0;
  cursor: pointer;
}

.site-header__icons {
  display: flex;
  align-items: center;
  justify-content: flex-end;
}

.site-header__account,
.site-header__cart {
  margin-left: 20px;
}

.site-header__account a,
.site-header__cart a {
  color: inherit;
  text-decoration: none;
}

.site-header__nav {
  margin-top: 15px;
}

.site-nav {
  display: flex;
  justify-content: center;
  list-style: none;
  padding: 0;
  margin: 0;
}

.site-nav__item {
  margin: 0 15px;
}

.site-nav__link {
  color: inherit;
  text-decoration: none;
  text-transform: uppercase;
  font-size: 0.9rem;
  font-weight: 500;
}

@media screen and (max-width: 749px) {
  .site-header__icons {
    justify-content: center;
  }
  
  .site-header__logo {
    text-align: center;
    margin-bottom: 15px;
  }
  
  .site-header__search {
    margin: 15px 0;
  }
  
  .site-nav {
    flex-wrap: wrap;
  }
  
  .site-nav__item {
    margin: 5px 10px;
  }
}
</style>
